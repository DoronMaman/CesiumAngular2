{"version":3,"sources":["entity-on-map.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,KAAA,EAAmD,MAAO,eAAA,CAAgB;AAMnF;IAQE,8BAAsB,OAA2B;QAA3B,YAAO,GAAP,OAAO,CAAoB;IACjD,CAAC;IAED,uCAAQ,GAAR;QACE,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,SAAS,EAAE,CAAC;IACnB,CAAC;IAED,0CAAW,GAAX,UAAY,OAAsB;QAChC,IAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;QAC/B,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,KAAK,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;IACH,CAAC;IAED,wCAAS,GAAT;QACE,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,MAAM,CAAC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3D,CAAC;IAED,4CAAa,GAAb;QACE,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IACjD,CAAC;IAED,0CAAW,GAAX;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,CAAC;YAC7B,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7D,CAAC;IACH,CAAC;IAED,0CAAW,GAAX;QACE,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IACI,mCAAc,GAA2C;QAChE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE;KAC1B,CAAC;IACF,2BAAC;CA7CD,AA6CC,IAAA;SA7CY,oBAAoB","file":"entity-on-map.component.js","sourceRoot":"","sourcesContent":["import { Input, OnChanges, OnDestroy, OnInit, SimpleChanges } from '@angular/core';\r\nimport { BasicDrawerService } from '../drawers/basic-drawer/basic-drawer.service';\r\n\r\n/**\r\n *  Extend this class to create drawing on map components.\r\n */\r\nexport class EntityOnMapComponent implements OnInit, OnChanges, OnDestroy {\r\n  \r\n  props: any;\r\n\r\n  protected selfPrimitive: any;\r\n\r\n  protected selfPrimitiveIsDraw: boolean;\r\n\r\n  constructor(protected _drawer: BasicDrawerService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.selfPrimitiveIsDraw = false;\r\n    this.drawOnMap();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const props = changes['props'];\r\n    if (props.currentValue !== props.previousValue) {\r\n      this.updateOnMap();\r\n    }\r\n  }\r\n\r\n  drawOnMap() {\r\n    this.selfPrimitiveIsDraw = true;\r\n    return this.selfPrimitive = this._drawer.add(this.props);\r\n  }\r\n\r\n  removeFromMap() {\r\n    this.selfPrimitiveIsDraw = false;\r\n    return this._drawer.remove(this.selfPrimitive);\r\n  }\r\n\r\n  updateOnMap() {\r\n    if (this.selfPrimitiveIsDraw) {\r\n      return this._drawer.update(this.selfPrimitive, this.props);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.removeFromMap();\r\n  }\r\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'props': [{ type: Input },],\n};\n}\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}